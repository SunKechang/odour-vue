<template>
    <el-dialog
            :close-on-click-modal="false"
            :visible.sync="dialogVisible"
            width="90%">
        <div class="compound-info">
            <p><b>Compound Name : </b>{{compoundInfo.compoundName}}</p>
<!--            <div>-->
<!--                <b>Chemical Structure: </b><br>-->
<!--                <img :src="compoundInfo.chemicalStructure" alt="">-->
<!--            </div>-->
            <div>
                <b>Chemical Structure: </b><br>
                <img :src="compoundInfo.chemicalStructure" width="300" style="position: relative;" alt="">
            </div>
            <p><b>Synonym : </b>{{compoundInfo.synonym}}</p>
            <p><b>CAS NO. : </b>{{compoundInfo.casNo}}</p>
            <b>(polar)RI : </b>
                <el-table
                        :data="compoundInfo.riList"
                        border
                        style="width: 100%">
                    <el-table-column
                            prop="compoundRi"
                            label="RI">
                    </el-table-column>
                    <el-table-column
                            prop="chromatographicColumn"
                            label="Chromatographic Column">
                    </el-table-column>
                    <el-table-column
                            prop="riResource"
                            label="Ri Resource">
                    </el-table-column>
                </el-table>

            <b>(non polar)RI : </b>
            <el-table
                    :data="compoundInfo.nriList"
                    border
                    style="width: 100%">
                <el-table-column
                        prop="compoundNri"
                        label="NRi">
                </el-table-column>
                <el-table-column
                        prop="chromatographicColumn"
                        label="Chromatographic Column">
                </el-table-column>
                <el-table-column
                        prop="nriResource"
                        label="Nri Resource">
                </el-table-column>
            </el-table>
            <br>
            <b>Odour Threshold : </b>
            <br>
            <el-table
                    :data="compoundInfo.otList"
                    border
                    style="width: 100%;margin-left: 100px">
                <el-table-column
                        prop="odourThreshold"
                        label="Odour Threshold(Î¼g/kg) ">
                </el-table-column>
                <el-table-column
                        prop="odourBase"
                        label="Odour Base">
                </el-table-column>
                <el-table-column
                        prop="odourThresholdReference"
                        label="Odour Reference">
                </el-table-column>

            </el-table>
            <br>
            <b>Odour Description  : </b>
            <br>
            <el-table
                    :data="compoundInfo.odList"
                    border
                    style="width: 100%;margin-left: 100px">
                <el-table-column
                        prop="odourDescription"
                        label="Odour Description">
                </el-table-column>
                <el-table-column
                        prop="odourDescriptionReference"
                        label="Odour Description Reference">
                </el-table-column>
            </el-table>

            <div>
                <b>Orbitrap-MS mass spectrometry:</b><br>
                <img :src="compoundInfo.massSpectrogram" width="700" style="position: relative;" alt="">
            </div>
            <div>
                <b>low-resolution mass spectrometry:</b><br>
                <img :src="compoundInfo.massSpectrogramNist" width="700" style="position: relative;" alt="">
            </div>
<!--            <div v-if="account!==''">-->
<!--                <b>Low-resolution mass spectrometry:</b><br>-->
<!--                <img :src="compoundInfo.massSpectrogramNist" width="850" alt="">-->
<!--                <span>(source: the NIST11 library)</span>-->
<!--            </div>-->
            <br>
            <br>
            <b>High-solution Measured & Relative Abundance : </b>
            <br>
            <el-table
                    :data="compoundInfo.mrList"
                    border
                    style="width: 100%;margin-left: 100px">
                <el-table-column
                        prop="measured"
                        label="Measured m/z">
                </el-table-column>
                <el-table-column
                        prop="relativeAbundance"
                        label="Relative Abundance">
                </el-table-column>
            </el-table>

            <b>Low-solution Measured & Relative Abundance : </b>
            <br>
            <el-table
                    :data="compoundInfo.lowmrList"
                    border
                    style="width: 100%;margin-left: 100px">
                <el-table-column
                        prop="measured"
                        label="Measured m/z">
                </el-table-column>
                <el-table-column
                        prop="relativeAbundance"
                        label="Relative Abundance">
                </el-table-column>
            </el-table>
          <b>Uploader & Reviewer : </b>
          <br>
          <el-table
              :data="[{
                uploader: compoundInfo.uploader,
                reviewer: compoundInfo.reviewer
              }]"
              border
              style="width: 100%;margin-left: 100px">
            <el-table-column prop="uploader" label="Uploader"></el-table-column>
            <el-table-column prop="reviewer" label="Reviewer"></el-table-column>
          </el-table>
        </div>
    </el-dialog>
</template>

<script>
    
    import jwtDecode from "jwt-decode";
    import store from "@/store"
    export default {
        name: "CompoundInfo",
        data(){
            return{
                account:''
            }
        },
        created() {
            let token=store.state.Authorization;
            const decode=jwtDecode(token);
            this.account=decode.account;
        },
        props: {
            visible: {
                type: Boolean,
                default: false
            },
            compoundInfo:{
                type:Object,
                default: function () {
                    return{}
                }
            }
        },
        computed: {
            dialogVisible: {
                get () {
                    return this.visible
                },
                set (val) {
                    this.$emit('update:visible', val)
                }
            }
        }
    }
</script>

<style scoped>
    .compound-info{
        margin: 0 auto;
        padding-right: 200px;
        padding-bottom: 100px;
        width: 60%;
        text-align: left;
        font-size: 18px;
        border-color: #e7eaec;
        border-width:3px 0 0;
        border-style:solid solid none;
    }
</style>